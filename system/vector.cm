#include <stdint.h>
#include <stdlib.h>
#include "identptrconv.h"

static char const *const template = @embed("templates/vector.cm");

int main(int argc, char **argv)
{
	if (argc == 2) {
		char *type = argv[1];
		char *suffix = identptrconv(type);
		char name[1024];
		snprintf(name, 1024, "Vector_%s", suffix);
		printf(template, name, type);
		return 0;
	} else if (argc == 3) {
		char *type = argv[1];
		char *name = argv[2];
		printf(template, name, type);
		return 0;
	}
	return 1;
}
